/* ==================== CHATBOT PAGE - LIGHT THEME ==================== */

/* White background */
html body div.stApp div[data-testid="stAppViewContainer"] > section.main,
.stApp .main {
    background-color: #ffffff !important;
}

/* Headings - Dark Blue */
.stApp .main h1,
.stApp .main h2,
.stApp .main h3 {
    color: #0d47a1 !important;
}

/* Markdown & Normal Text - Blue-Black */
.stApp .main p,
.stApp .main li,
.stApp .main span,
.stApp .main div[data-testid="stMarkdownContainer"] p,
.stApp .main div[data-testid="stMarkdownContainer"] li {
    color: #1a237e !important;
}

/* --- Chat Messages Styling --- */

/* Reset and align the message container */
div[data-testid="stChatMessage"] {
    display: flex !important;
    align-items: center !important;
    gap: 0.25rem !important; /* Reduced gap */
    margin-bottom: 1rem !important;
    padding: 0 !important;
    background-color: transparent !important;
}

/* The content bubble */
div[data-testid="stChatMessage"] > div:last-child {
    padding: 0.8rem 1.2rem !important;
    border-radius: 20px !important;
    max-width: 75% !important;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1) !important;
    margin: 0 !important; /* Remove any margin */
}

/* Assistant messages - Blue Gradient */
div[data-testid="stChatMessage"][data-testid*="assistant"] > div:last-child,
div[data-testid="stChatMessage"]:has(img[alt="ðŸ¤–"]) > div:last-child {
    background: linear-gradient(to right, #1976d2, #0d47a1) !important;
    border-top-left-radius: 5px !important;
}

/* Assistant text - White */
div[data-testid="stChatMessage"][data-testid*="assistant"] p,
div[data-testid="stChatMessage"][data-testid*="assistant"] span,
div[data-testid="stChatMessage"]:has(img[alt="ðŸ¤–"]) p,
div[data-testid="stChatMessage"]:has(img[alt="ðŸ¤–"]) span {
    color: #FFFFFF !important;
}

/* User messages - Gray Background */
div[data-testid="stChatMessage"][data-testid*="user"],
div[data-testid="stChatMessage"]:has(img[alt="ðŸ˜Š"]) {
    flex-direction: row-reverse !important;
}

div[data-testid="stChatMessage"][data-testid*="user"] > div:last-child,
div[data-testid="stChatMessage"]:has(img[alt="ðŸ˜Š"]) > div:last-child {
    background-color: #f0f2f6 !important;
    border-top-right-radius: 5px !important;
}

/* User text - Black */
div[data-testid="stChatMessage"][data-testid*="user"] p,
div[data-testid="stChatMessage"][data-testid*="user"] span,
div[data-testid="stChatMessage"]:has(img[alt="ðŸ˜Š"]) p,
div[data-testid="stChatMessage"]:has(img[alt="ðŸ˜Š"]) span {
    color: #111827 !important;
}

/* Audio recorder container */
.stApp .main .element-container:has(iframe[title="st_audiorec.st_audiorec"]) {
    position: sticky;
    bottom: 0;
    background: linear-gradient(to right, #1976d2, #0d47a1);
    padding: 20px;
    margin: 0 -2rem;
    padding-left: 2rem;
    padding-right: 2rem;
    border-top: 2px solid #0d47a1;
    z-index: 99;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
}